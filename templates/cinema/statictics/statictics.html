{% extends 'cinema/layout/base.html' %}
{% load i18n static %}

{% block title %} Статистика {% endblock %}
{% block head %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}
{% block content %}

    <div class="row" style="align-items: center">
    <!-- FILM PIE -->
    <div class="col-md-4">
            <canvas id="film_pie" style="width: 400px; max-width: 600px; display: block; height: 400px;"  class="chartjs-render-monitor"></canvas>
    </div>
        <!-- SESIONS -->
        <div class="col-md-4">
            <canvas id="session_line" style="width: 524px; max-width: 600px; display: block; height: 261px;" width="524" height="400" class="chartjs-render-monitor"></canvas>
    </div>
        <!-- USERS -->
         <div class="col-md-4 col-6" style="margin-top: 35px; max-width: 520px">
            <div class="small-box bg-warning">
                <div class="inner">
                    <h3>{{ users }}</h3>
                    <p>User Registrations</p>
                    </div>
                    <div class="icon">
                    <i class="fas fa-user-plus"></i>
                </div>
                    <a href="#" class="small-box-footer">
                    More info <i class="fas fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
{#    <div>#}
{#  <canvas id="myChart"></canvas>#}
{#</div>#}
    </div>
    <div class="row">
        <canvas id="visitor" height="400px"></canvas>
    </div>

    <div class="row">
    <div class="col-md-6">

    </div>
    </div>
    <div class="col-3" >
    <canvas id="users_stat" style="width: 400px; max-width: 600px; display: block; height: 400px;"  class="chartjs-render-monitor"></canvas>

    </div>

<!-- FILM PIE SCRIPTS -->
    <script>
  const data = {
  labels:
      ['b1EPwetQN6 cWkbUyGTV3', 'y68wgC51se jvmXUv1na2', 'Гарри Поттер и Антибиотики', 'test', 'SIa2YYAn1t xSil7AbTiE', 'Lj8VcnfKB2 r2Em3c8HEf']
,
  datasets: [{
    label: 'My First Dataset',
    data: {{ movie_data }},
    backgroundColor: [
      'rgb(255, 99, 132)',
      'rgb(54, 162, 235)',
      'rgb(255, 205, 86)',
      'rgb(123,255,86)',
      'rgb(31,29,22)',
      'rgb(199,40,224)',
              'rgb(40,224,196)',


    ],
    hoverOffset: 4
  }]
};

  const config = {
  type: 'pie',
  data: data,
};

</script>


    <!-- Session  LINE SCRIPTS -->
<script>
const ctx = document.getElementById('session_line');
const myChart = new Chart(ctx, {
    label: 'sfasdf',
    type: 'line',
    data: {
        labels: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'],
        datasets: [{
            label: 'Сеансы',
            data: {{ movie_data }},
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>

<!-- VISITOR -->
    <script>
const ctxs = document.getElementById('visitor');
const myChartq = new Chart(ctxs, {
    type: 'line',
    data: {
        labels: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'],
        datasets: [{
            label: 'Traffic usually PC and Tablet',
            data: [12000, 13000, 14000, 8000, 22000, 17999, 24200],
            backgroundColor: [
                'rgba(252,101,0,0.85)',
            ],
            borderColor: [
                'rgba(252,101,0,0.85)',
            ],
            borderWidth: 1
        },
        {
            label: 'Mobile traffic',
            data: [8000, 22222, 7000, 12000, 13000, 3000, 11000],
            backgroundColor: [
                'rgba(0,255,3,0.85)',
            ],
            borderColor: [
                'rgba(0,255,3,0.85)',
            ],
            borderWidth: 1
        },
        {
            label: 'Tablet',
            data: [7000, 15000, 6000 , 3000, 14000, 10000, 17000],
            backgroundColor: [
                'rgba(0,59,252,0.85)',
            ],
            borderColor: [
                'rgba(0,59,252,0.85)',
            ],
            borderWidth: 1
        }
        ]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>

       <!-- USERS  LINE SCRIPTS -->
<script>
const sss = document.getElementById('users_stat');
const myUsers = new Chart(sss, {
    type: 'pie',
    data: {
        labels: ['Man', 'Woman'],
        datasets: [{
            label: 'Сеансы',
            data: [{{male}}, {{ female }}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(99, 250, 255, 0.2)',

            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',

            ],
            borderWidth: 1
        }]
    },

});
</script>

    <script>
  const FilmPie = new Chart(
    document.getElementById('film_pie'),
    config
  );
</script>

      <script>
  const SessionLine = new Chart(
    document.getElementById('session_line'),
    configs
  );
</script>



<script src="{% static 'js/statistics.js' %}"></script>

{% endblock %}
